{

// testedfiles: SleposImageBuilder.ycp

include "testsuite.ycp";
TESTSUITE_INIT([], nil);

import "SleposImageBuilder";

DUMP("SleposImageBuilder::Modified");
TEST(``(SleposImageBuilder::Modified()), [], nil);


map READ = $[];

map WRITE = $[];

map EXECUTE = $[
	"target" : $[
		"bash_output" : $["exit":0, "stdout":"", "stderr":""]
	]
];


// Test nil parameters
string image_key = nil;
string new_image_key = nil;
string dist = nil;
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

image_key = "minimal-1.0.0";
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

new_image_key = image_key;
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

image_key = nil;
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

image_key = "minimal-2.0.21";
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

dist = "";
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

dist = "NLD";
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

dist = "SLES";
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);

dist = "NL";
DUMP(sformat("SleposImageBuilder::duplicateImageDescrTree(%1, %2, %3)", image_key, new_image_key, dist));
TEST(``(SleposImageBuilder::duplicateImageDescrTree(image_key, new_image_key, dist)), [READ,WRITE,EXECUTE], nil);


}
